<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #box {
            width: 100px;
            height: 100px;
            transform: translate(0, 0);
            background: red;
        }
    </style>
</head>

<body>
    <div id="box">
        lalalala
    </div>
</body>
<script>

    window.addEventListener('load', function () {
        var box = document.getElementById('box');
        var terminalX = window.innerWidth - 100;
        var terminalY = window.innerHeight - 100;
        var x = 0;
        var y = 0;
        var timer;
        var startTime = frameTime = Date.now();

        console.log(box)
        // var timer = setInterval(move,16)  

        function move() {
            var now = Date.now();
            console.error(now - frameTime)
            frameTime = now;
            if (now - startTime > 1000) {
                return
            }

            if (x === terminalX && y === terminalY) {
                clearInterval(timer);
                return
            }
            x < terminalX && (x += 1);
            y < terminalY && (y += 1);
            console.log(x)
            console.log(y)
            box.style.transform = `translate(${x}px,${y}px)`
            /* for (var i = 0; i < 300; i++) {
                console.log(i)

            } */
            requestIdleCallback(function (deadline) {
                  console.warn(deadline.timeRemaining())
  
            })
            requestAnimationFrame(move);
        }


        // requestAnimationFrame(move)
        move();
        requestIdleCallback(function (deadline) {
                  console.error(deadline.timeRemaining())
  
        })
        /*  requestIdleCallback(function (deadline) {
             console.error(deadline.timeRemaining())
         },{timeout:1000})
 
         for(var i = 0;i<10000;i++){
             console.log(i)
         }
 
 
 
         setTimeout(function () {
             console.error('hahahaha')
         }, 0)
         console.log(6666666666666666) */
    })

</script>

</html>